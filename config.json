{
    "api_keys": [
        ""
    ],
    "current_api_key_index": 0,
    "model_name": "gemini-2.5-flash-preview-04-17",
    "prompt1": "**Objective:** Generate Anki flashcard content formatted for cloze deletion based *strictly* on the provided input text/image content. The target user is a UPSC Civil Services aspirant, requiring factual accuracy and specific HTML formatting for Anki. Student's workflow is such that--he converts each topic into a single cloze note with multiple cloze cards in it answering each OPEN ENDED question will give him mastery over the topic and won't require to open the book anymore. \n\n**Input:** You will receive text/image content.\n\n**Output:** Generate formatted HTML suitable for direct pasting into a single Anki field, rendering correctly with cloze deletions. The output *must* contain literal `<br>` tags exactly as specified.\n\n**Mandatory Instructions & Rules:**\n\n**First of all** : read the whole text to memorise and understand it. So that you can create relevant and meaningful Anki cards for the Student. \n**Rule H: Literal HTML Line Breaks:**\n*   Whenever these instructions require an HTML line break, you **MUST** insert the exact literal text `<br>`. Do not interpret this as a newline character; output the four characters `<`,`b`,`r`,`>` literally.\n*   Whenever these instructions require multiple line breaks (e.g., for spacing between cards), you **MUST** insert multiple literal `<br>` tags consecutively (e.g., `<br><br><br><br>`).\n\n**(Other Rules Now Follow)**\n\n1.  **Identify Core Units:** Analyze the input. Identify *every* distinct topic, subtopic, definition, fact, concept, or key point presented. Each identified unit *must* become a non-repetitive separate question-answer block. the question should be *short* and open ended whereas answer should be directly addressing the question. \n2.  **Title Generation (Rule 8 & 12):**\n    *   Create one single, concise title for the entire set of generated questions.\n    *   The title *must* be plain text only.\n    *   The title *must not* contain emojis, symbols (like #), or HTML/markdown formatting.\n    *   The title should be brief (ideally under 10 words).\n    *   **CRITICAL OUTPUT DIRECTIVE (Rule 16):** Your entire output *must* begin **IMMEDIATELY** with this plain text title on the very first line. Absolutely NO introductory phrases, greetings, explanations, confirmations, or any other text whatsoever before the title. Follow the title immediately with the required HTML spacing before the first question (see Rule 6).\n3.  **Question Formulation (Rule 1, 5, 7, 14):**\n    *   For each identified unit (from step 1), formulate one specific question.\n    *   Focus questions on 'what', 'why', 'how'of the unit. And the questions and answer should never be repetitive, in case of repetition of content in question OR answer, group them into one single question, keep the question **short** and answers longer. \n    *   Goal = Minimize individual separate cards in the note, yet cover each and every line/topic/subtopic etc. \n    *   Prefix *each* question with one single, relevant emoji suitable for the question's topic. Use distinct emojis if appropriate for different topics.\n    *   Questions *must not* start with the word \"Card\".\n    *   Questions *must not* contain hints or parts of the answer, ensuring they test recall.\n4.  **Answer Formatting & HTML Structure (Rule 2, 11):**\n    *   The answer to each question *must* be enclosed *entirely* within a single Anki cloze deletion block.\n    *   **MANDATORY LITERAL `<br>` BEFORE CLOZE:** After the complete question text (including the final question mark `?` or flag `?‚≠ê`, even if it's the end of a multi-part question list), you **MUST** insert one literal `<br>` tag by following **Rule H**. **THIS `<br>` TAG IS ESSENTIAL.**\n    *   The cloze format *must* be exactly: `{{c<number>::Full answer text derived strictly from input}}`.\n    *   `<number>` is the cloze number (see Rule 5).\n    *   The `Full answer text` *must* be the direct answer to the question, using only information present in the *provided input content*.\n    *   **Visual Enhancement (Inside Cloze):** Within the `Full answer text` (inside the `{{c<number>::...}}`), strategically insert relevant `formal` visual separators (e.g., ‚û°, +, üéØ, üí°, üìå, ‚úÖ, ‚ùå, üìä, üåç, etc.) *between* distinct phrases, terms, or list items *within* a single point or sub-answer. These symbols *must not* alter the original meaning and should serve only to visually break up the text for better readability. Place them *between* existing text elements. This rule applies *within* the answers for A, B, C etc. in multi-point questions as well.\n5.  **Cloze Numbering (Rule 3):**\n    *   Maintain a single, sequential counter for the cloze `<number>`.\n    *   Start with `c1` for the very first question-answer block.\n    *   Increment the number by exactly 1 for *each subsequent* question-answer block (c1, c2, c3, ...).\n6.  **Strict HTML Spacing (Rule 6):**\n    *   After the plain text title on the first line, insert four literal `<br>` tags (`<br><br><br><br>`) by following **Rule H**, before the first question.\n    *   After *each* complete question-answer block (i.e., after the closing `}}`), you **MUST** insert four literal `<br>` tags (`<br><br><br><br>`) by following **Rule H**, before the next question begins (or before the end of the output if it's the last block).\n7.  **Handling Multi-Point Answers (Rule 15 - FINAL ATTEMPT):**\n    *   If a single concept/topic in the input requires answering multiple distinct sub-questions based on the text:\n        *   **Question Structure:** Formulate the question block like this:\n            ```html\n            [Emoji] [Main Question asking about the concept and its aspects]. Answer the following based on the text:\n            <br>a. [Text of Sub-question 1]? \n            <br>b. [Text of Sub-question 2]?\n            <br>c. [Text of Sub-question 3]?\n            ... (Use lowercase letters a, b, c... for sub-questions)\n            ```\n        *   **CRITICAL: Insert Literal `<br>` Before Cloze:** After the *entire* question block (ending with the last sub-question's `?`), you **MUST** insert exactly one literal `<br>` tag by following **Rule H**, before the `{{c...}}`. **VERIFY THIS `<br>` IS PRESENT.**\n        *   **Answer Structure (Inside Cloze):** Structure the *entire* answer *inside* the single `{{c...}}` block like this, ensuring the labels A, B, C correspond directly to sub-questions a, b, c:\n            ```html\n            {{c<incremented number>::\n            A. [Answer to sub-question a, using ‚û° symbols internally if needed per Rule 4]\n            <br>B. [Answer to sub-question b, using ‚û° symbols internally if needed per Rule 4]\n            <br>C. [Answer to sub-question c, using ‚û° symbols internally if needed per Rule 4]\n            ... (Use uppercase letters A, B, C... corresponding to a, b, c...)\n            }}\n            ```\n        *   **Mandatory Formatting Inside Cloze:**\n            *   Start each sub-answer (A, B, C...) with its corresponding uppercase letter followed by a period and a space (e.g., `A. `).\n            *   Derive the answer text for each labeled part *strictly* from the input corresponding to that specific sub-question.\n            *   **CRITICAL: Insert Literal `<br>` BETWEEN SUB-ANSWERS:** You **MUST** insert exactly one literal `<br>` tag (following **Rule H**) *before* each subsequent label (i.e., **before** `B.`, **before** `C.`, **before** `D.`, etc.). **VERIFY THESE `<br>` TAGS ARE PRESENT.** Do *not* put `<br>` before the first label (`A.`).\n            *   Apply Rule 4's visual enhancement (‚û°, + symbols) *within* the text of each individual sub-answer (A, B, C...) as appropriate.\n        *   **Example illustrating REQUIRED LITERAL `<br>` tags:**\n            *Question Block:*\n            ```html\n            üë§ ...Answer the following based on the text:\n            <br>a. Sub-question a?\n            <br>b. Sub-question b?\n            <br>c. Sub-question c?<br>  <-- REQUIRED LITERAL <br> BEFORE CLOZE\n            ```\n            *Answer Block (Inside Cloze):*\n            ```html\n            {{c8::\n            A. Answer A text ‚û° detail.\n            <br>B. Answer B text. <-- REQUIRED LITERAL <br> BEFORE B.\n            <br>C. Answer C text ‚û° detail 1 ‚û° detail 2. <-- REQUIRED LITERAL <br> BEFORE C.\n            }}\n            ```\n8.  **Accuracy and Scope (Rule 10):**\n    *   Adhere **ABSOLUTELY** to the information provided in the input content.\n    *   DO NOT add any external facts, interpretations, explanations, or examples not explicitly present in the input.\n    *   Ensure the answer within the cloze directly and accurately reflects the corresponding information from the input. Process *every word* of the input to derive the flashcards.\n9.  **Error Flagging (Rule 13):**\n    *   If you identify information within the *original provided input content* that appears factually, conceptually, or grammatically incorrect, append a single star emoji (‚≠ê) *immediately* after the question mark (`?‚≠ê`) of the question derived from that specific piece of problematic input. Do *not* attempt to correct the information in the answer; reproduce it as given in the input but flag the question. If it's a multi-part question, add the flag after the main question part.\n10. **Order Flexibility (Rule 9):** You may reorder the generated question-answer blocks if it creates a more logical learning flow, but *all other rules* (especially numbering, HTML structure, and content derivation) must still be strictly followed.\n11. **Final Output Check:** Ensure the output starts *immediately* with the plain text title. Ensure the output contains *only* the title and the HTML-formatted question-answer blocks. **CRITICALLY VERIFY** that all required **literal** `<br>` tags are present exactly as specified by **Rule H**, Rule 4, Rule 6, and Rule 7 (specifically: one `<br>` before every cloze block, four `<br>` tags between blocks, and one `<br>` before sub-answers B, C, D... inside multi-part clozes). Ensure all other formatting rules are met and only input content is used.\n\n**Now, process the following content and generate the Anki card entries following *all* these instructions meticulously, paying extreme attention to inserting the literal `<br>` text where required.**",
    "output_placement": "replace",
    "prompt2": "**Objective:** Generate the content for the back of an Anki flashcard based *strictly* on the provided input (which will be the term/concept). Follow the specific section requirements and HTML formatting rules below meticulously.\n\n**Input:** A term or concept.\n\n**Output:** Generate formatted HTML suitable for direct pasting into a single Anki field, rendering correctly with distinct sections separated by line breaks. The output *must* contain literal `<br>` tags exactly as specified.\n\n**Mandatory Instructions & Rules:**\n\n**Rule H: Literal HTML Line Breaks:**\n*   Whenever these instructions require an HTML line break, you **MUST** insert the exact literal text `<br>`. Do not interpret this as a newline character; output the four characters `<`,`b`,`r`,`>` literally.\n*   Whenever these instructions require multiple line breaks (e.g., for spacing between sections), you **MUST** insert multiple literal `<br>` tags consecutively (e.g., `<br><br>`).\n\n**(Section Content and Formatting Rules)**\n\n1.  **Etymology Section:**\n    *   Provide the etymology (origin of the word/term) using the format: `word = root1 (meaning) + root2 (meaning)`. Adapt as needed for single roots or different structures, but keep it concise.\n    *   Use 1-2 relevant symbols/emojis (e.g., üìú, üåç, üîó).\n    *   Apply **bold** formatting to the main word being defined. Apply *italics* to root words if appropriate.\n    *   Ensure any sentences used are under 25 words.\n    *   **Output ONLY the etymology content itself.** Do NOT include the heading \"Etymology:\".\n\n2.  **Spacing 1:**\n    *   After the Etymology content, you **MUST** insert exactly two literal `<br>` tags (`<br><br>`) by following **Rule H**.\n\n3.  **Academic Definition Section:**\n    *   Provide the primary academic meaning/definition of the term based *only* on standard understanding or provided context if available.\n    *   This definition **MUST** be under 15 words total.\n    *   Use 1-2 relevant symbols/emojis (e.g., üìñ, üéì, ‚úÖ).\n    *   Apply **bold** formatting to the key term within the definition if helpful.\n    *   Ensure the sentence is under the 15-word limit.\n    *   **Output ONLY the definition content itself.** Do NOT include the heading \"Academic Definition:\".\n\n4.  **Spacing 2:**\n    *   After the Academic Definition content, you **MUST** insert exactly two literal `<br>` tags (`<br><br>`) by following **Rule H**.\n\n5.  **Layman Explanation (ELI5) Section (Conditional):**\n    *   **Condition:** Include this section **if, and ONLY if,** the Academic Definition (from step 3) uses terminology likely too complex for an average 10th-grade student to grasp easily.\n    *   **Content:** If the condition is met, explain the term in simple, everyday language (Explain Like I'm 5).\n    *   This explanation **MUST** be under 25 words total.\n    *   Use 1-2 relevant symbols/emojis (e.g., ü§î, üí°, üòä).\n    *   Ensure the sentence is under the 25-word limit.\n    *   **Output ONLY the ELI5 content itself.** Do NOT include the heading \"Layman Explanation (ELI5):\".\n    *   If the condition is NOT met, **output nothing** for this section (do not even output the spacing tags that follow).\n\n6.  **Spacing 3 (Conditional):**\n    *   **Condition:** Include this spacing **if, and ONLY if,** the ELI5 section (step 5) was generated.\n    *   **Content:** If the condition is met, you **MUST** insert exactly two literal `<br>` tags (`<br><br>`) by following **Rule H**.\n\n7.  **Sentence Example Section:**\n    *   Provide a sentence using the term in a context relevant to UPSC Civil Services, general knowledge, or the subject matter.\n    *   The sentence **MUST** be very crisp and **MUST** be under 25 words total.\n    *   Use 1-2 relevant symbols/emojis (e.g., üáÆüá≥, üèõÔ∏è, üåç, üì∞).\n    *   Apply *italics* to the term within the sentence.\n    *   Ensure the sentence adheres to the 25-word limit.\n    *   **Output ONLY the sentence itself.** Do NOT include the heading \"Sentence Example:\".\n\n8.  **Spacing 4:**\n    *   After the Sentence Example content, you **MUST** insert exactly two literal `<br>` tags (`<br><br>`) by following **Rule H**.\n\n9.  **Conceptual Explanation (ELI10) Section (Conditional):**\n    *   **Condition:** Include this section **if, and ONLY if,** the term has a deeper significance, underlying process, key concept, or relevant context that warrants further simple explanation based *strictly* on common knowledge or provided context.\n    *   **Content:** If the condition is met, explain this deeper aspect clearly, as if to a 10-year-old (ELI10).\n        *   Keep sentences crisp, **each individual sentence MUST be under 25 words.**\n        *   If multiple points are needed, use simple bullet points (`-`) or numbered lists (`1.`, `2.`) for clarity. Each point/sentence must adhere to the 25-word limit.\n        *   Use 1-3 relevant symbols/emojis (e.g., üß†, ‚ú®, üîó, ‚û°Ô∏è).\n        *   Apply **bold** formatting to key sub-concepts if helpful.\n    *   **Output ONLY the ELI10 content itself.** Do NOT include the heading \"Conceptual Explanation (ELI10):\".\n    *   If the condition is NOT met, **output nothing** for this section (do not even output the spacing tags that follow).\n\n10. **Spacing 5 (Conditional):**\n    *   **Condition:** Include this spacing **if, and ONLY if,** the ELI10 section (step 9) was generated.\n    *   **Content:** If the condition is met, you **MUST** insert exactly two literal `<br>` tags (`<br><br>`) by following **Rule H**.\n\n11. **Trick to Remember Section:**\n    *   Provide a mnemonic device, short story, visual association, or any crisp memory aid for the term.\n    *   This section's content (including any sentences) **MUST** be concise, ideally under 30 words total. Individual sentences must be under 25 words.\n    *   Use 1-2 relevant symbols/emojis (e.g., üí°, üß†, üîó, üòÑ).\n    *   Apply **bold** or *italics* for emphasis if helpful.\n    *   Ensure adherence to sentence length limits.\n    *   **Output ONLY the mnemonic content itself.** Do NOT include the heading \"Trick to Remember:\".\n\n**(General Constraints & Final Output Check)**\n\n*   **Accuracy:** Ensure 100% factual accuracy suitable for academic/exam purposes. Base explanations *only* on standard knowledge or provided context. Do not hallucinate.\n*   **Emoji Limit:** Use emojis sparingly (typically 1-3 per section as specified) and ensure they are relevant.\n*   **Sentence Length:** **Strictly enforce the ~25-word limit (or 15 words for definition) per sentence.** Break longer thoughts into multiple compliant sentences.\n*   **No Headings:** Reiterate: **DO NOT** output the names of the sections (like \"Etymology:\", \"Academic Definition:\", etc.). Output *only* the generated content for each applicable section.\n*   **CRITICAL OUTPUT DIRECTIVE:** Your entire output **MUST** begin **IMMEDIATELY** with the content generated for the Etymology section (Rule 1). Do **NOT** include *any* introductory phrases, greetings, confirmations, or conversational text whatsoever.\n*   **Final Check:** Verify that the output starts immediately with Etymology content, contains *only* the content for the applicable sections, correctly implements conditional logic, strictly adheres to sentence length limits, uses **literal `<br><br>` tags** for spacing between sections (and only when required by conditional logic), uses bold/italics appropriately, and includes minimal relevant emojis.\n\n**Now, process the following term/concept and generate the Anki card back content following *all* these instructions meticulously.**",
    "prompt3": "**Objective:** Act as an expert text condenser and symbolizer specialized for Anki flashcards. Process the provided input text, which may include Anki cloze deletions (`{{c...::...}}`) and specific formatting (like line breaks, lists). Your goal is to drastically reduce the text length (aiming for 25%-90% reduction of non-formatting content) while **absolutely preserving** the original structure, Anki cloze markers, and core meaning for recall purposes.\n\n**Input:** Text content, potentially including `{{c...::...}}` markers, line breaks, lists (`*`, `-`, `1.`), and other formatting.\n\n**Output:** The condensed and symbolized version of the input text, strictly maintaining the original structure and Anki cloze syntax.\n\n**Mandatory Instructions & Rules:**\n\n1.  **Anki Formatting Preservation (ABSOLUTE NON-NEGOTIABLE PRIORITY):**\n    *   Anki cloze deletion markers (`{{c1::...}}`, `{{c2::...}}`, etc.) **MUST remain ABSOLUTELY UNALTERED.** Preserve the exact `{{c...::...}}` syntax, the cloze number (`c1`, `c2`, etc.), and the text *immediately* adjacent to the markers.\n    *   Condensation and symbolization (Rules 2-4) apply *only* to the text content *found OUTSIDE* these markers, or *deep INSIDE* the text within a marker, but **NEVER** altering the marker structure itself.\n    *   Original line breaks **MUST** be preserved. If the input has text on separate lines, the output must mirror this.\n    *   Original list formatting (e.g., lines starting with `*`, `-`, `1.`, `a.`, indentation) **MUST** be preserved. Apply condensation/symbolization *to the text content of the list item*, but keep the list structure intact.\n    *   General structural layout of the input text must be maintained.\n\n2.  **Extreme Text Condensation (Within Rule 1 Constraints):**\n    *   Applies to text *outside* cloze markers and *inside* the text content within cloze markers (respecting the markers themselves).\n    *   Remove **all** filler words (e.g., \"is\", \"are\", \"was\", \"were\", \"that\", \"which\", \"in order to\").\n    *   Remove **all** articles (a, an, the) unless essential for meaning.\n    *   Remove unnecessary conjunctions (e.g., \"and\" can often be `‚ûï` or implied, \"but\", \"however\").\n    *   Remove unnecessary prepositions (e.g., \"of\", \"in\", \"on\", \"for\").\n    *   Rephrase verbose phrasing into direct concepts (e.g., \"the process of becoming\" -> \"‚û°Ô∏è\").\n    *   Focus purely on keywords, core concepts, and their relationships.\n\n3.  **Symbol/Emoji Substitution (Within Rule 1 Constraints):**\n    *   Apply consistently to text *outside* or *inside* cloze content.\n    *   Use **ONLY** the following substitutions unless another emoji is universally understood and clearly represents a concept from the input:\n        *   `‚û°Ô∏è` : Replace \"leads to\", \"results in\", \"causes\", \"therefore\", \"indicates\", \"follows\", \"becomes\", \"implies\", \"effect is\".\n        *   `‚ûï` : Replace \"and\", \"in addition to\", \"coupled with\", \"also\", \"plus\".\n        *   `‚ùå` : Place *after* a concept to denote negative aspects, restrictions, problems, absence, 'bad', 'not allowed', decrease, failure.\n        *   `‚úÖ` : Place *after* a concept to denote positive aspects, recommendations, benefits, 'good', 'allowed', increase, success.\n        *   `‚¨ÜÔ∏è` / `‚¨áÔ∏è` : Represent increase/decrease, improvement/worsening, high/low levels.\n        *   `üîë` : Represent key factor, essential element, core reason, solution.\n        *   `‚ùì` / `‚ùó` : Represent question/uncertainty or important point/warning.\n        *   `üß†` : Thinking, understanding, knowledge.\n        *   `üí™` : Strength, health, resilience.\n        *   `‚ÜîÔ∏è` : Relationship, connection, link between two items.\n        *   `‚è≥` : Time, duration, process over time.\n    *   Place symbols logically to show relationships (e.g., `Concept A ‚û°Ô∏è Concept B`, `Item ‚úÖ`, `Factor üîë`).\n\n4.  **Positive Framing (Within Rule 1 Constraints):**\n    *   Where possible without changing meaning, rephrase negative statements using `‚ùå` or positive ones using `‚úÖ`. (e.g., \"Lack of sleep causes issues\" -> `Sleep ‚¨áÔ∏è ‚û°Ô∏è Issues ‚ùå` or `Sleep ‚ùå ‚û°Ô∏è Issues`). Apply inside/outside clozes as appropriate.\n\n5.  **Maintain Core Meaning & Recall Cues:**\n    *   The condensed output, despite reduction, **MUST** retain the essential factual meaning and logical relationships from the original text.\n    *   It must be understandable enough for someone *already familiar* with the topic to use as a recall trigger. Do not over-simplify to the point of ambiguity.\n\n6.  **Scope Limitation:**\n    *   Process **ONLY** the provided input text. Do **NOT** add external information, interpretations, or hallucinations.\n    *   If a word/phrase doesn't have a clear symbol equivalent in Rule 3, condense it using Rule 2 but do not force a symbol.\n\n7.  **CRITICAL OUTPUT DIRECTIVE:**\n    *   Provide **ONLY** the condensed, symbolized, and format-preserved text as your output.\n    *   Your output **MUST** begin **IMMEDIATELY** with the first character of the processed text.\n    *   Do **NOT** include *any* introductory phrases (\"Here is the condensed text:\"), explanations, or concluding remarks.\n\n8.  **Final Check:** Before outputting, verify:\n    *   Are **ALL** `{{c...::...}}` markers **IDENTICAL** to the input?\n    *   Is the **line structure, list format, and indentation IDENTICAL** to the input?\n    *   Has text been significantly condensed according to Rule 2?\n    *   Are symbols from Rule 3 used correctly and consistently?\n    *   Is the core meaning preserved?\n    *   Does the output start **immediately** with the processed text?\n\n**Now, process the following input text and generate the condensed Anki card content following *all* these instructions meticulously.**"
}